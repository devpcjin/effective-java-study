# Optional í´ë˜ìŠ¤
- **OptionalXXX í´ë˜ìŠ¤** 
	java.util íŒ¨í‚¤ì§€ì˜ Optional, OptionalDouble, OptionalInt, OptionalLong í´ë˜ìŠ¤ íƒ€ì…ì„ ì¼ì»«ëŠ”ë‹¤.
ì´ë“¤ì€ ê°’ì„ ì €ì¥í•˜ëŠ” ê°’ ê¸°ë°˜ í´ë˜ìŠ¤ë¡œ, ì´ ê°ì²´ì—ì„œ ê°’ì„ ì–»ê¸° ìœ„í•´ì„œëŠ” get(), getAsDouble(), getAsInt(), getAsLong()ì„ í˜¸ì¶œí•œë‹¤.

- Optionalì€ ê°’ì´ ë“¤ì–´ ìˆì„ìˆ˜ë„, ì—†ì„ ìˆ˜ë„ ìˆëŠ” ì»¨í…Œì´ë„ˆ 
- return ê°’ì—ë§Œ ì‚¬ìš©ì„ ê¶Œì¥
- Optionalì„ return í•˜ëŠ” ë©”ì†Œë“œì—ì„œ nullì„ returní•˜ì§€ë§ì. (empty()ë¥¼ ì‚¬ìš©)
- Collection, Map, Stream, Array, Optionalì„ Optionalë¡œ ê°ì‹¸ì§€ ë§ì. (ì´ë¯¸ nullê°’ì„ íŒë‹¨ ê°€ëŠ¥)



------------------------

- Optional í´ë˜ìŠ¤ëŠ” ë‹¨ìˆœíˆ ì§‘ê³„ ê°’ë§Œ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì§‘ê³„ ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°ì˜ ë””í´íŠ¸ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆê³ , ì§‘ê³„ ê°’ì„ ì²˜ë¦¬í•˜ëŠ” Consumerë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤. 
![](https://velog.velcdn.com/images/nnakki/post/0a08f108-1ec6-4d37-8ccf-5dbd9561b56a/image.png)

> ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œì—ì„œ, ì»¬ë ‰ì…˜ì˜ ìš”ì†Œê°€ ì¶”ê°€ë˜ì§€ ì•Šì•„ì„œ ì €ì¥ ëœ ìš”ì†Œê°€ ì—†ìœ¼ë©´?
```java
List<Integer> list = new ArrayList<>();
double avg = list.stream()
	.mapToInt(Integer :: intValue)
    .average()
    .getAsDouble();
System.out.println("í‰ê· " + avg);
```
> ìš”ì†Œê°€ ì—†ìœ¼ë¯€ë¡œ, í‰ê· ê°’ë„ ìˆì„ ìˆ˜ ì—†ë‹¤ ğŸ‘‰ NoSuchElementException ì˜ˆì™¸ ë°œìƒ
ì´ëŸ´ ê²½ìš°! ì˜ˆì™¸ë¥¼ í”¼í•˜ëŠ” ì„¸ ê°€ì§€ ë°©ë²•
1. Optional ê°ì²´ë¥¼ ì–»ì–´ isPresent() ë©”ì†Œë“œë¡œ í‰ê· ê°’ ì—¬ë¶€ë¥¼ í™•ì¸. isPresentê°€ Trueì¼ë•Œë§Œ return
2. orElse() ë©”ì†Œë“œë¡œ ë””í´íŠ¸ê°’ì„ ì •í•´ë†“ëŠ”ë‹¤. í‰ê· ê°’ì´ ì—†ìœ¼ë©´ orElse()ì˜ ë§¤ê°œê°’ì´ ë””í´íŠ¸ ê°’
3. ifPresnet() ë©”ì†Œë“œë¡œ í‰ê· ê°’ì´ ìˆì„ ê²½ìš°ì—ë§Œ ê°’ì„ ì´ìš©í•˜ëŠ” ëŒë‹¤ì‹ ì‹¤í–‰ 

```java
import java.util.ArrayList;
import java.util.List;
import java.util.OptionalDouble;

public class OptionalExample {
    public static void main(String[] args) {
        List<Integer> list = new ArrayList<>();

        /*//ì˜ˆì™¸ ë°œìƒ(java.util.NoSuchElementException)
        double avg = list.stream()
            .mapToInt(Integer :: intValue)
            .average()
            .getAsDouble();
         */

        //ë°©ë²•1
        OptionalDouble optional = list.stream()
                .mapToInt(Integer::intValue)
                .average();
        if (optional.isPresent()) {
            System.out.println("ë°©ë²•1_í‰ê· : " + optional.getAsDouble());
        } else {
            System.out.println("ë°©ë²•1_í‰ê· : " + 0.0);
        }


        //ë°©ë²•2
        double avg = list.stream()
                .mapToInt(Integer::intValue)
                .average()
                .orElse(0.0);
        System.out.println("ë°©ë²•2_í‰ê· : " + avg);


        //ë°©ë²•3
        list.stream()
                .mapToInt(Integer::intValue)
                .average()
                .ifPresent(a -> System.out.println("ë°©ë²•3_í‰ê· : " + a));
    }
}
```	
> ê²°ê³¼ 
ë°©ë²•1 í‰ê·  : 0.0
ë°©ë²•2 í‰ê·  : 0.0

